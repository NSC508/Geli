{% extends "base.html" %}
{% block title %}Compare{% endblock %}

{% block content %}
<div class="compare-container">
    <div class="compare-header">
        <h1>Which {{ media_config.singular|lower }} is better?</h1>
        <p class="compare-subtitle">Click on the one you prefer</p>
        <div class="compare-progress">
            <span class="progress-label">~{{ remaining }} comparison{{ 's' if remaining != 1 else '' }} remaining</span>
        </div>
    </div>

    <div class="compare-arena">
        <!-- New Item (Left) — clicking = "new item is better" -->
        <div class="compare-card compare-new clickable" onclick="submitComparison('better')" id="cardNew">
            <div class="compare-label">New {{ media_config.singular }}</div>
            <div class="compare-cover">
                {% if new_item.cover_url %}
                <img src="{{ new_item.cover_url }}" alt="{{ new_item.name }}">
                {% else %}
                <div class="no-cover large">{{ media_config.emoji }}</div>
                {% endif %}
            </div>
            <h2>{{ new_item.name }}</h2>
            <p class="compare-meta">
                {% if new_item.release_year %}{{ new_item.release_year }}{% endif %}
                {% if new_item.meta_line %} · {{ new_item.meta_line }}{% endif %}
            </p>
        </div>

        <div class="compare-vs">VS</div>

        <!-- Existing Item (Right) — clicking = "existing item is better" (new is worse) -->
        <div class="compare-card compare-existing clickable" onclick="submitComparison('worse')" id="cardExisting">
            <div class="compare-label">Ranked #{{ existing_item.rank_position }} in {{ tier|capitalize }}d</div>
            <div class="compare-cover">
                {% if existing_item.cover_url %}
                <img src="{{ existing_item.cover_url }}" alt="{{ existing_item.name }}">
                {% else %}
                <div class="no-cover large">{{ media_config.emoji }}</div>
                {% endif %}
            </div>
            <h2>{{ existing_item.name }}</h2>
            <p class="compare-meta">
                {% if existing_item.release_year %}{{ existing_item.release_year }}{% endif %}
                {% if existing_item.meta_line %} · {{ existing_item.meta_line }}{% endif %}
            </p>
        </div>
    </div>
</div>
{% endblock %}